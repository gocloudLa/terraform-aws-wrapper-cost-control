module_name: Terraform AWS Cost Control Module
module_description: The Terraform Wrapper for Cost Control simplifies the configuration of monitoring and cost control tools in AWS, facilitating the creation and management of budget alarms in Billing and Cost Anomaly Detection.
module_badges:
  - url: "https://github.com/gocloudLa/terraform-aws-wrapper-cost-control/releases/latest"
    image: "https://img.shields.io/github/v/release/gocloudLa/terraform-aws-wrapper-cost-control.svg?style=for-the-badge"
    alt: "Latest Release"
  - url: ""
    image: "https://img.shields.io/github/last-commit/gocloudLa/terraform-aws-wrapper-cost-control.svg?style=for-the-badge"
    alt: "Last Commit"
  - url: "https://registry.terraform.io/modules/gocloudLa/wrapper-cost-control/aws"
    image: "https://img.shields.io/badge/Terraform-Registry-7B42BC?style=for-the-badge&logo=terraform&logoColor=white"
    alt: "Terraform Registry"
quick_start: |
  ```hcl
  cost_control_parameters = {
      budget = {
        "daily-cost-budget" = {
          limit_amount = "70"
          time_unit    = "DAILY"
          threshold    = [120]
          # default_sns_topic_name = "sns-topic-name" # Default: "${local.common_name}-alarms"
        }
      }
      cost_anomaly = {
        enable               = true # default false
        threshold_absolute   = 10
        threshold_percentage = 20
        # default_sns_topic_name = "sns-topic-name" # Default: "${local.common_name}-alarms"
      }
    }
  ```
features:
  - icon: ðŸ’°
    title: Management of multiple notifications for budgets
    short_description: It allows defining and managing multiple notifications according to the defined threshold levels.
    long_description: |
      It allows defining and managing multiple notifications according to the defined threshold levels.
    examples:
      - title: Configuration Code
        code: |
          ```hcl
          budget = {
                "monthly-cost-budget" = {
                  limit_amount               = "2100"
                  time_unit                  = "MONTHLY"
                  threshold                  = [105, 120]
                }
          }
          ```
  - icon: ðŸ’°
    title: Budget configuration based on the last few months
    short_description: It allows you to configure a budget based on the last X months to dynamically adjust the threshold.
    long_description: |
      It allows you to configure a budget based on the last X months to dynamically adjust the threshold.
    examples:
      - title: Configuration Code
        code: |
          ```hcl
          budget = {
                "dynamic-monthly-budget" = {
                  time_unit = "MONTHLY"
                  auto_adjust_data = {
                    budget_adjustment_period = 6
                  }
                  notification_type          = "ACTUAL"
                  threshold                  = [110]
                }
          }
          ```
important_notes: ""
input_table: |
  | name | Name of the resource | `string` | `${local.common_name}-${each.key}` | no |
  | budget_type | Type of budget | `string` | `COST` | no |
  | default_sns_topic_name | Default SNS topic name | `string` | `local.default_sns_topic_name` | no |
  | limit_amount | Budget limit amount | `number` | `null` | no |
  | limit_unit | Unit of the budget limit | `string` | `USD` | no |
  | time_unit | Time unit for the budget | `string` | `null` | no |
  | auto_adjust_data | Auto-adjustment data configuration | `map` | `{}` | no |
  | cost_types | Cost type configuration | `map` | `{}` | no |
  | planned_limit | Planned budget limit | `number` | `null` | no |
  | threshold | Threshold when the notification should be sent | `list` | `[]` | no |
  | notification_type | What kind of budget value to notify on | `string` | `""` | no |
  | subscriber_email_addresses | E-Mail addresses to notify | `list` | `[]` | no |
  | subscriber_sns_topic_arns | SNS topics to notify | `list` | `[data.aws_sns_topic.alerts.arn]` | no |
  | sensitivity | Metric expression sensitivity | `number` | `2` | no |
  | enable | Enable or disable the creation of Cost Anomaly notifications | `bool` | `false` | no |
  | monitor_type | The possible type values. | `string` | `DIMENSIONAL` | no |
  | monitor_dimension | The dimensions to evaluate (Required, if monitor_type is DIMENSIONAL). | `string` | `SERVICE` | no |
  | monitor_specification | A valid JSON representation for the Expression object (Required, if monitor_type is CUSTOM). | `map` | `{}` | no |
  | frequency | The frequency that anomaly reports are sent. | `string` | `IMMEDIATE` | no |
  | type | The type of subscription. | `string` | `SNS` | no |
  | address | The address of the subscriber. | `string` | `data.aws_sns_topic.alerts.arn` | no |
  | threshold_absolute | The threshold_absolute for anomaly | `string` | `null` | no |
  | threshold_percentage | The threshold_percentage for anomaly | `string` | `null` | no |